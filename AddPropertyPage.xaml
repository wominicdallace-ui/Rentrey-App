<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:maps="clr-namespace:Microsoft.Maui.Controls.Maps;assembly=Microsoft.Maui.Controls.Maps"
             x:Class="Rentrey.Maui.AddPropertyPage"
             Title="Add New Property"
             BackgroundColor="#F0F2F5">

    <ScrollView>
        <VerticalStackLayout Spacing="15" Padding="25">
            <Label Text="List a 
New Rental Property"
                   FontSize="24"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   Margin="0, 10, 0, 10"/>

            <Label Text="Property Image" />
            <Frame HeightRequest="150"
                   CornerRadius="10"
                   Padding="0"
                   IsClippedToBounds="True"
                   BorderColor="#CCCCCC">
                <Image x:Name="PropertyImageView"
                       Source="{Binding ImageSource, TargetNullValue='addimage.png'}" 
                       Aspect="AspectFill"
                       VerticalOptions="FillAndExpand"/>
            </Frame>
            <Button Text="Select 
Image from Gallery"
                    Clicked="OnSelectImageClicked"
                    BackgroundColor="#007BFF"
                    TextColor="White"
                    CornerRadius="8"/>

            <Grid ColumnDefinitions="*, *, *">
                <VerticalStackLayout Grid.Column="0">
                    <Label Text="Beds 🛏️" />
                    <Entry x:Name="BedsEntry" Placeholder="3" Keyboard="Numeric" />
                </VerticalStackLayout>
                <VerticalStackLayout Grid.Column="1">
                    <Label Text="Baths 🛁" />
                    <Entry x:Name="BathsEntry" Placeholder="2" Keyboard="Numeric" />
                </VerticalStackLayout>
                <VerticalStackLayout Grid.Column="2">
                    <Label Text="Parking 🚗" />
                    <Entry x:Name="ParkingEntry" Placeholder="1" Keyboard="Numeric" />
                </VerticalStackLayout>
            </Grid>

            <Label Text="Price (Per Week)" />
            <Entry x:Name="PriceEntry" Placeholder="e.g., 550" Keyboard="Numeric" />

            <Label Text="Minimum Tenant Rating (Points)" />
            <Entry x:Name="MinRatingEntry" Placeholder="e.g., 500" Keyboard="Numeric" />

            <Label Text="Preferred Tenant Rating (Points)" />
            <Entry x:Name="PrefRatingEntry" Placeholder="e.g., 1000" Keyboard="Numeric" />

            <Label Text="Address" />
            <Entry x:Name="AddressEntry" Placeholder="Enter full street address" />

            <Label Text="Location Coordinates:" />
            <HorizontalStackLayout Spacing="10">
                <Button Text="Select Location on Map"
                        Clicked="OnSelectLocationClicked"
                        BackgroundColor="#2196F3"
                        TextColor="White"
                        CornerRadius="8"
                        HorizontalOptions="FillAndExpand"/>
            </HorizontalStackLayout>

            <Label Text="{Binding Latitude, StringFormat='Latitude: {0:F4}'}" />
            <Label Text="{Binding Longitude, StringFormat='Longitude: {0:F4}'}" />

            <Label Text="Note: Use external map tools to find accurate Long/Lat."
                   FontSize="12" TextColor="#888888"/>

            <Grid ColumnDefinitions="*, *" ColumnSpacing="10" Margin="0, 30, 0, 10">

                <Button Text="Cancel"
                        Grid.Column="0"
                        BackgroundColor="#D32F2F"
                        TextColor="White"
                        CornerRadius="10"
                        FontSize="20"
                        FontAttributes="Bold"
                        Clicked="OnCancelClicked"/>

                <Button Text="Submit Property for Rent"
                        Grid.Column="1"
                        BackgroundColor="#4CAF50"
                        TextColor="White"
                        CornerRadius="10"
                        FontSize="20"
                        FontAttributes="Bold"
                        Clicked="OnSubmitPropertyClicked"/>
            </Grid>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>